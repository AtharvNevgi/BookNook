<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Edit Book | BookNook</title>
  <%- include('../../partials/header')%>
</head>
<body class="bg-light">

  <!-- Navbar -->
  <%- include('../../partials/loggedIn/navbar')%>

  <!-- Edit Book Form -->
  <div class="container my-5">
    <div class="card shadow-sm p-4" style="max-width: 700px; margin: auto;">
      <h3 class="text-center mb-4">Edit Book Details</h3>

      <form action="/books/edit/<%- book._id %>?_method=PATCH" method="POST">
        <h1><%- book.title %></h1>
        <div class="mb-3">
          <label for="title" class="form-label">Book Title *</label>
          <input type="text" class="form-control" id="title" name="title" value="<%- book.title %>" required>
        </div>

        <div class="mb-3">
          <label for="author" class="form-label">Author *</label>
          <input type="text" class="form-control" id="author" name="author" value="<%- book.author %>" required>
        </div>

        <div class="mb-3">
          <label for="price" class="form-label">Price (â‚¹)*</label>
          <input type="number" class="form-control" id="price" name="price" value="<%- book.price %>" required>
        </div>

        <div class="mb-3">
          <label for="category" class="form-label">Category *</label>
          <input type="text" class="form-control" id="category" name="category" value="<%- book.category %>" required>
        </div>

        <div class="mb-3">
          <label for="condition" class="form-label">Condition *</label>
          <select class="form-select" id="condition" name="condition" required>
            <option value="">Select Condition</option>
            <option value="New" <%- book.condition === "New" ? "selected" : "" %>>New</option>
            <option value="Like New" <%- book.condition === "Like New" ? "selected" : "" %>>Like New</option>
            <option value="Good" <%- book.condition === "Good" ? "selected" : "" %>>Good</option>
            <option value="Fair" <%- book.condition === "Fair" ? "selected" : "" %>>Fair</option>
          </select>
        </div>

        <div class="mb-3">
          <label for="image" class="form-label">Image URL *</label>
          <input type="text" class="form-control" id="image" name="image" value="<%- book.image %>" required>
        </div>

        <div class="mb-3">
          <label for="description" class="form-label">Description *</label>
          <textarea class="form-control" id="description" name="description" rows="4" required><%- book.description %></textarea>
        </div>

        <div class="d-grid">
          <button type="submit" class="btn btn-warning btn-lg">Update Book</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Footer -->
  <%- include('../../partials/footer')%>
</body>
</html>
